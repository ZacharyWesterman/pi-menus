{
	"network_ssid": {
		"get": {
			"bash": "iwgetid --raw"
		},
		"cache": false
	},

	"network_list": {
		"get": {
			"bash": "iwlist wlan0 scanning | grep ESSID | grep -v '\"\"' | grep -v '\\x' | sed 's/^[ \\t]*ESSID:\"//' | sed 's/\"$//' | sort | uniq",
			"delim": "\n"
		},
		"cache": false
	},

	"device_list": {
		"get": {
			"bash": "nmap -sn \"$(ip route | awk '/default/ {{print $3}}' | head -1)\"/24 -oG - | grep 'Status: Up'",
			"delim": "\n"
		},
		"cache": false
	},

	"network_device": {
		"get": {
			"bash": "iw dev | grep Interface | head -1 | xargs | cut -b 11-"
		}
	},

	"network_pass": {
		"set": {
			"bash": "raspi-config nonint do_wifi_ssid_passphrase '{line}' '{network_pass}'"
		},
		"unset": [ "network_ssid", "device_list", "ip_address" ]
	},

	"software_version": {
		"get": {
			"bash": "head -1 < config/version.txt"
		}
	},

	"fetch_update": {
		"action": {
			"py": "fetch_update"
		}
	},

	"ip_address": {
		"get": {
			"bash": "ip address show dev wlan0 | grep 'inet ' | tr / ' ' | awk '{{print $2}}'"
		}
	},

	"hostname": {
		"get": {
			"bash": "hostname"
		}
	},

	"shutdown": {
		"action": {
			"py": "shutdown"
		}
	}
}
